(function(a){a.fn.jBoxExpander=function(b){function d(c){return{collapsedContentHeight:b.collapsedHeight-a(".boxControls",c).height(),expandedContentHeight:a(".jBoxTruncateContentHolder",c).height(),collapsedBoxHeight:b.collapsedHeight,expandedBoxHeight:a(".jBoxTruncateContentHolder",c).height()+a(".boxControls",c).height()}}var c={collapsedHeight:170,moreText:"+",lessText:"-",fxDuration:1e3};var b=a.extend(c,b);return this.each(function(){var c=a(this);c.height(b.collapsedHeight);c.wrapInner('<div class="jBoxTruncateContentHolder"></div>').wrapInner('<div class="jBoxTruncateContent"></div>');a(".jBoxTruncateContentHolder",c).append('<div class="clearer"> </div>');var e=a(".jBoxTruncateContent",c);if(e.height()>c.height()){e.css("overflow","hidden");c.append('<div class="boxControls"><a class="moreLessLink" onfocus="if(this.blur)this.blur();" href="#" style="display: block;">'+b.moreText+"</a>");dimensions=d(c);e.height(dimensions.collapsedContentHeight);var f=a(".moreLessLink",c);f.click(function(){dimensions=d(c);if(f.text()==b.moreText){e.animate({height:dimensions.expandedContentHeight+"px"},b.fxDuration);c.animate({height:dimensions.expandedBoxHeight+"px"},b.fxDuration);f.text(b.lessText)}else{e.animate({height:dimensions.collapsedContentHeight+"px"},b.fxDuration);c.animate({height:dimensions.collapsedBoxHeight+"px"},b.fxDuration);f.text(b.moreText)}return false})}})}})(jQuery)